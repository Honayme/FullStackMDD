<app-header-nav></app-header-nav>

<div class="container">
  <button mat-icon-button (click)="goBack()">
    <mat-icon>arrow_back</mat-icon>
  </button>

<mat-card>
  <div class="title-container">
    <h1>Créer un article</h1>
  </div>

  <form [formGroup]="postForm" (ngSubmit)="onSubmit()">
    <label for="title">Titre</label>
    <input type="text" formControlName="title" id="title">
    <div *ngIf="postForm.get('title')?.invalid && postForm.get('title')?.touched">
      <p style="color: red;">Un titre est requis</p>
    </div>

    <label for="description">Description</label>
    <textarea formControlName="description" id="description"></textarea>
    <div *ngIf="postForm.get('description')?.invalid && postForm.get('description')?.touched">
      <p style="color: red;">Une description est requise</p>
    </div>

    <label for="topics">Thème</label>
    <select formControlName="topics" id="topics">
      <option *ngFor="let topic of topics" [value]="topic.title">{{topic.title}}</option>
    </select>
    <div *ngIf="postForm.get('topics')?.invalid && postForm.get('topics')?.touched">
      <p style="color: red;">Vous devez séléctionner un thème</p>
    </div>

    <button type="submit">Envoyer</button>
  </form>
</mat-card>
</div>
